using System.Collections.Generic;

//DON'T MODIFY, AUTOGENERATED CODE HERE (25.02.2020 07:49)

namespace Ecs
{
    public partial class Entity
	{
		public Game.Damage damage { get; private set; }

        public bool hasDamage { get { return damage != null; } }

        public void setDamage(System.Single value, System.Int32 side)
        {
			if (damage == null)
				damage = pool.damage.Get();

			damage.value = value;
			damage.side = side;

			react.On(damage);
        }

		private void addListener(Listener<Game.Damage> obj)
		{
			if (obj == null) return;

			react.Add(obj);

			if (damage != null) obj.On(damage);
		}

		public void unsetDamage(bool needReact = true) 
		{
			remove(damage, pool.damage);
			damage = null;

			if (needReact)
				react.On(damage);
		}
	}

	public partial class EntityListener
	{
		private List<Listener<Game.Damage>> onDamage = new List<Listener<Game.Damage>>();

		public void Add(Listener<Game.Damage> obj)
		{
			onDamage.Add(obj);
		}

		public void On(Game.Damage damage)
		{
			foreach(var obj in onDamage) obj.On(damage);
		}
	}
}